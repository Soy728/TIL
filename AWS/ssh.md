# SSH 사용하여 EC2 인스턴스 접속하기

<br/>

### SSH (Secure Shell)

원격 호스트 컴퓨터에 접속하기 위해 사용되는 인터넷 프로토콜.
(Shell은 커널과 사용자간의 다리역할을 함)

<br/>

기존 원격 접속은 텔넷 방식 사용하였으나, 암호화를 제공하지 않아 보안상 취약하였음. Wireshark(패킷 분석 프로그램) 사용시 누구나 쉽게 원격 접속 과정에서 옮겨지는 비밀번호나 파일 내용등 데이터를 탈취 가능.
<br/>
<br/>
SSH는 다른 컴퓨터와 통신을 하기 위해 접속을 할 때 Private Key와 Public Key를 이용해 접속한다.
Private Key와 Public Key를 통해 다른 컴퓨터와 통신을 하기 위해서는 먼저 Public Key를 통신하는 컴퓨터에 복사하여 저장한다. 그리고 요청을 보내는 클라이언트 사이드 컴퓨터에서 접속 요청을 할 때 응답을 하는 서버 사이드 컴퓨터에 복사되어 저장된 Public Key와 클라이언트 사이드에 해당 Public Key와 쌍을 이루는 Private Key와 비교를 하여 서로 한 쌍의 Key인지 아닌지를 검사한다.

<br/>

---

### Permission

리눅스에서 허가 되지 않은 사람이 파일이나 디렉터리에 접근하는 것을 막고 파일과 디렉터리에 대한 접근 허가나 허락을 해주는 역할

<br/>

#### Permission 형식

```
  ls-al

  -> drwxr-xr-x  46 isohui  staff    1472 12  1 14:01 .
```

<br/>
d: 파일의 유형
<br/>
rwx: 소유자 권한
<br/>
r-x: 그룹 권한
<br/>
r-x : 다른 사용자 권한

<br/>

r(read), w(write), x(실행) 권한을 뜻힌다.

<br/>

### chmod 명령어

chmod는 파일의 퍼미션을 변경할 수 있는 명령어

```
chmod [권한값] [대상파일이름]
```

<br/>

```
d rwx r-x r-x 1 root root 4096 Nov 10 12:41 test
```

<br/>
위 파일의 접근 권한은 사용자는 읽기,쓰기,실행 가능. 그룹은 읽기,실행 가능 쓰기 불가능. 외부 사용자는 읽기,실행 가능 쓰기 불가능이다.
<br/>

권한 값은 8진수의 값을 이용해 변경할 수 있다.
<br/>
read - 4
<br/>
write - 2
<br/>
<br/>
execute - 1
사용자의 권한은 rwx 모두 가능 4+2+1 = 7, 그룹과 외부 사용자의 권한 값을 읽기만 가능하도록 바꾸려면 4+0+0 = 4이다.

그렇다면 권한값은 아래와 같이 변경 할 수 있다.

```
chmod 744 test
```
